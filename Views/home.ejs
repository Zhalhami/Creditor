<%- include('partials/header') %>

<div>
    <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th scope="col">S/N</th>
            <th scope="col">Creditor</th>
            <th scope="col">Total Amount</th>
          </tr>
        </thead>
        <tbody>
          <% users.forEach((user, index) => { %>
            <tr data-id="<%= user._id %>" class="clickable-row">
              <th scope="row"><%= index + 1 %></th>
              <td><%= user.username %></td>
              <td><%= user.totalAmountOwe %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
      const rows = document.querySelectorAll(".clickable-row");
      rows.forEach(row => {
          row.addEventListener("click", function() {
              const userId = row.getAttribute("data-id");
              window.location.href = `/${userId}`;
          });
      });
  });
</script>


<%- include('partials/footer') %>
